<form [formGroup]="entityForm" (ngSubmit)="onSubmit()" class="space-y-8">
  <!-- Basic Information with 3D Card -->
  <div
    class="bg-white border border-gray-200 rounded-lg p-6 shadow-sm"
  >
    <h3 class="text-lg font-bold text-gray-900 mb-6 flex items-center">
      <div
        class="bg-blue-600 p-2 rounded-lg mr-3"
      >
        <svg
          class="w-6 h-6 text-white"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
          ></path>
        </svg>
      </div>
      <span
        class="text-gray-900"
        >InformaÈ›ii Generale</span
      >
    </h3>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div class="">
        <label class="block text-sm font-bold text-gray-800 mb-2">
          Tip PersoanÄƒ FizicÄƒ <span class="text-red-500">*</span>
        </label>
        <select
          formControlName="tip"
          class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
        >
          <option *ngFor="let tip of TipPersoanaFizica" [value]="tip">
            {{ tip }}
          </option>
        </select>
      </div>

      <div class="">
        <label class="block text-sm font-bold text-gray-800 mb-2">
          CNP <span class="text-red-500">*</span>
        </label>
        <input
          type="text"
          formControlName="cnp"
          maxlength="13"
          class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
          placeholder="1234567890123"
        />
        <span
          class="text-xs text-red-600 mt-1 flex items-center"
          *ngIf="
            entityForm.get('cnp')?.touched && entityForm.get('cnp')?.invalid
          "
        >
          <svg class="w-3.5 h-3.5 mr-1" fill="currentColor" viewBox="0 0 20 20">
            <path
              fill-rule="evenodd"
              d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"
              clip-rule="evenodd"
            ></path>
          </svg>
          CNP trebuie sÄƒ aibÄƒ exact 13 caractere
        </span>
      </div>

      <div class="">
        <label class="block text-sm font-bold text-gray-800 mb-2"
          >Nume <span class="text-red-500">*</span></label
        >
        <input
          type="text"
          formControlName="nume"
          class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
          placeholder="Popescu"
        />
      </div>

      <div class="">
        <label class="block text-sm font-bold text-gray-800 mb-2"
          >Prenume <span class="text-red-500">*</span></label
        >
        <input
          type="text"
          formControlName="prenume"
          class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
          placeholder="Ion"
        />
      </div>

      <div class="">
        <label class="block text-sm font-bold text-gray-800 mb-2"
          >Serie Act Identitate <span class="text-red-500">*</span></label
        >
        <input
          type="text"
          formControlName="serie_act_identitate"
          class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
          placeholder="RX"
        />
      </div>

      <div class="">
        <label class="block text-sm font-bold text-gray-800 mb-2"
          >NumÄƒr Act Identitate <span class="text-red-500">*</span></label
        >
        <input
          type="text"
          formControlName="numar_act_identitate"
          class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
          placeholder="123456"
        />
      </div>

      <div>
        <label class="block text-sm font-bold text-gray-800 mb-2"
          >Data NaÈ™terii <span class="text-red-500">*</span></label
        >
        <input
          type="date"
          formControlName="data_nasterii"
          class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
        />
      </div>

      <div>
        <label class="block text-sm font-bold text-gray-800 mb-2"
          >CetÄƒÈ›enie <span class="text-red-500">*</span></label
        >
        <input
          type="text"
          formControlName="cetatenie"
          class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
          placeholder="Romana"
        />
      </div>

      <div>
        <label class="block text-sm font-bold text-gray-800 mb-2"
          >Dovada Drept FolosinÈ›Äƒ</label
        >
        <select
          formControlName="dovada_drept_folosinta"
          class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
        >
          <option *ngFor="let tip of TipDovada" [value]="tip">{{ tip }}</option>
        </select>
      </div>

      <div>
        <label class="block text-sm font-bold text-gray-800 mb-2"
          >Cod CAEN</label
        >
        <input
          type="text"
          formControlName="cod_caen"
          class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
          placeholder="6201"
        />
      </div>

      <div>
        <label class="block text-sm font-bold text-gray-800 mb-2"
          >Data ÃŽnregistrÄƒrii</label
        >
        <input
          type="date"
          formControlName="data_inregistrarii"
          class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
        />
      </div>

      <div>
        <label class="block text-sm font-bold text-gray-800 mb-2">EUID</label>
        <input
          type="text"
          formControlName="euid"
          class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
          placeholder="ROONRC.J40/12345/2023"
        />
      </div>

      <div>
        <label class="block text-sm font-bold text-gray-800 mb-2"
          >Nr. Ordine Reg. ComerÈ›</label
        >
        <input
          type="text"
          formControlName="nr_ordine_reg_comert"
          class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
          placeholder="J40/12345/2023"
        />
      </div>

      <div>
        <label class="block text-sm font-bold text-gray-800 mb-2"
          >Stare FiscalÄƒ <span class="text-red-500">*</span></label
        >
        <select
          formControlName="stare_fiscala"
          class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
        >
          <option *ngFor="let stare of StareFiscala" [value]="stare">
            {{ stare }}
          </option>
        </select>
      </div>

      <div
        class="md:col-span-2 flex flex-wrap items-center gap-6 bg-gradient-to-r from-indigo-50 to-blue-50 p-5 rounded-md border-2 border-indigo-100 shadow-sm"
      >
        <label class="flex items-center space-x-3 cursor-pointer group">
          <input
            type="checkbox"
            formControlName="platitor_tva"
            class="w-5 h-5 rounded border border-gray-300 text-blue-600 focus:ring-2 focus:ring-blue-500 transition-all cursor-pointer"
          />
          <span
            class="text-sm font-bold text-gray-800 group-hover:text-blue-600 transition-colors"
            >PlÄƒtitor TVA</span
          >
        </label>

        <label class="flex items-center space-x-3 cursor-pointer group">
          <input
            type="checkbox"
            formControlName="inregistrat_in_spv"
            class="w-5 h-5 rounded border border-gray-300 text-blue-600 focus:ring-2 focus:ring-blue-500 transition-all cursor-pointer"
          />
          <span
            class="text-sm font-bold text-gray-800 group-hover:text-blue-600 transition-colors"
            >ÃŽnregistrat Ã®n SPV</span
          >
        </label>
      </div>
    </div>
  </div>

  <!-- Adresa Domiciliu with 3D Card -->
  <div
    class="card-3d bg-gradient-to-br from-white to-purple-50 border-2 border-purple-100 rounded-2xl p-6 shadow-lg "
  >
    <app-collapsible title="ðŸ“ AdresÄƒ Domiciliu" [isCollapsed]="false">
      <div
        formGroupName="adresa_domiciliu"
        class="grid grid-cols-1 md:grid-cols-2 gap-6"
      >
        <div>
          <label class="block text-sm font-bold text-gray-800 mb-2"
            >Èšara <span class="text-red-500">*</span></label
          >
          <input
            type="text"
            formControlName="tara"
            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
            placeholder="Romania"
          />
        </div>

        <div>
          <label class="block text-sm font-bold text-gray-800 mb-2"
            >JudeÈ› <span class="text-red-500">*</span></label
          >
          <input
            type="text"
            formControlName="judet"
            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
            placeholder="Bucuresti"
          />
        </div>

        <div>
          <label class="block text-sm font-bold text-gray-800 mb-2"
            >Localitate <span class="text-red-500">*</span></label
          >
          <input
            type="text"
            formControlName="localitate"
            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
            placeholder="Bucuresti"
          />
        </div>

        <div>
          <label class="block text-sm font-bold text-gray-800 mb-2"
            >Cod PoÈ™tal</label
          >
          <input
            type="text"
            formControlName="cod_postal"
            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
            placeholder="010101"
          />
        </div>

        <div>
          <label class="block text-sm font-bold text-gray-800 mb-2"
            >Strada <span class="text-red-500">*</span></label
          >
          <input
            type="text"
            formControlName="strada"
            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
            placeholder="Calea Victoriei"
          />
        </div>

        <div>
          <label class="block text-sm font-bold text-gray-800 mb-2"
            >NumÄƒr <span class="text-red-500">*</span></label
          >
          <input
            type="text"
            formControlName="numar"
            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
            placeholder="100"
          />
        </div>

        <div>
          <label class="block text-sm font-bold text-gray-800 mb-2">Bloc</label>
          <input
            type="text"
            formControlName="bloc"
            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
            placeholder="A1"
          />
        </div>

        <div>
          <label class="block text-sm font-bold text-gray-800 mb-2"
            >ScarÄƒ</label
          >
          <input
            type="text"
            formControlName="scara"
            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
            placeholder="B"
          />
        </div>

        <div>
          <label class="block text-sm font-bold text-gray-800 mb-2">Etaj</label>
          <input
            type="text"
            formControlName="etaj"
            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
            placeholder="5"
          />
        </div>

        <div>
          <label class="block text-sm font-bold text-gray-800 mb-2"
            >Apartament</label
          >
          <input
            type="text"
            formControlName="apartament"
            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
            placeholder="52"
          />
        </div>
      </div>
    </app-collapsible>
  </div>

  <!-- Reprezentant with 3D Card -->
  <div
    class="card-3d bg-gradient-to-br from-white to-green-50 border-2 border-green-100 rounded-2xl p-6 shadow-lg "
  >
    <app-collapsible title="ðŸ‘¤ Reprezentant" [isCollapsed]="false">
      <div
        formGroupName="reprezentant"
        class="grid grid-cols-1 md:grid-cols-2 gap-6"
      >
        <div>
          <label class="block text-sm font-bold text-gray-800 mb-2"
            >Nume <span class="text-red-500">*</span></label
          >
          <input
            type="text"
            formControlName="nume"
            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
            placeholder="Ionescu"
          />
        </div>

        <div>
          <label class="block text-sm font-bold text-gray-800 mb-2"
            >Prenume <span class="text-red-500">*</span></label
          >
          <input
            type="text"
            formControlName="prenume"
            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
            placeholder="Maria"
          />
        </div>

        <div>
          <label class="block text-sm font-bold text-gray-800 mb-2"
            >CNP <span class="text-red-500">*</span></label
          >
          <input
            type="text"
            formControlName="cnp"
            maxlength="13"
            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
            placeholder="2987654321098"
          />
        </div>

        <div>
          <label class="block text-sm font-bold text-gray-800 mb-2"
            >Tip Act Identitate <span class="text-red-500">*</span></label
          >
          <select
            formControlName="tip_act_identitate"
            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
          >
            <option *ngFor="let tip of TipActIdentitate" [value]="tip">
              {{ tip }}
            </option>
          </select>
        </div>

        <div>
          <label class="block text-sm font-bold text-gray-800 mb-2"
            >Serie Act Identitate <span class="text-red-500">*</span></label
          >
          <input
            type="text"
            formControlName="serie_act_identitate"
            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
            placeholder="AB"
          />
        </div>

        <div>
          <label class="block text-sm font-bold text-gray-800 mb-2"
            >NumÄƒr Act Identitate <span class="text-red-500">*</span></label
          >
          <input
            type="text"
            formControlName="numar_act_identitate"
            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
            placeholder="654321"
          />
        </div>

        <div>
          <label class="block text-sm font-bold text-gray-800 mb-2"
            >Calitate <span class="text-red-500">*</span></label
          >
          <select
            formControlName="calitate"
            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
          >
            <option
              *ngFor="let calitate of CalitateReprezentant"
              [value]="calitate"
            >
              {{ calitate }}
            </option>
          </select>
        </div>

        <div>
          <label class="block text-sm font-bold text-gray-800 mb-2"
            >Telefon <span class="text-red-500">*</span></label
          >
          <input
            type="tel"
            formControlName="telefon"
            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
            placeholder="+40712345678"
          />
        </div>

        <div>
          <label class="block text-sm font-bold text-gray-800 mb-2"
            >Email <span class="text-red-500">*</span></label
          >
          <input
            type="email"
            formControlName="email"
            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
            placeholder="maria.ionescu@example.com"
          />
        </div>

        <div>
          <label class="block text-sm font-bold text-gray-800 mb-2"
            >Data NaÈ™terii <span class="text-red-500">*</span></label
          >
          <input
            type="date"
            formControlName="data_nasterii"
            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
          />
        </div>
      </div>
    </app-collapsible>
  </div>

  <!-- Form Actions with 3D Buttons -->
  <div
    class="flex justify-end space-x-5 pt-8 border-t-2 border-gradient-to-r from-gray-200 to-blue-200 "
  >
    <app-button
      type="button"
      variant="outline"
      (click)="onCancel()"
      [disabled]="isLoading"
      class="min-w-[120px]"
    >
      AnuleazÄƒ
    </app-button>
    <app-button
      type="submit"
      [disabled]="isLoading || entityForm.invalid"
      class="min-w-[200px]"
    >
      <span *ngIf="!isLoading" class="flex items-center">
        <svg
          class="w-5 h-5 mr-2"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M5 13l4 4L19 7"
          ></path>
        </svg>
        SalveazÄƒ PersoanÄƒ FizicÄƒ
      </span>
      <span *ngIf="isLoading" class="flex items-center">
        <svg class="animate-spin h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24">
          <circle
            class="opacity-25"
            cx="12"
            cy="12"
            r="10"
            stroke="currentColor"
            stroke-width="4"
          ></circle>
          <path
            class="opacity-75"
            fill="currentColor"
            d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
          ></path>
        </svg>
        Se salveazÄƒ...
      </span>
    </app-button>
  </div>
</form>

<div class="min-h-screen bg-gray-50 py-8 px-4">
  <div class="max-w-6xl mx-auto">
    <app-card>
      <app-card-header>
        <app-card-title>Înregistrare Entitate Fiscală</app-card-title>
        <p class="text-sm text-gray-600 mt-2">
          Selectează tipul de entitate și completează formularul pentru
          înregistrare
        </p>
      </app-card-header>

      <app-card-content>
        <!-- Success Message -->
        <div
          *ngIf="successMessage"
          class="mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center space-x-3"
        >
          <svg
            class="w-5 h-5 text-green-600 flex-shrink-0"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
            ></path>
          </svg>
          <span class="text-green-800 font-medium">{{ successMessage }}</span>
        </div>

        <!-- Entity Type Selector -->
        <div class="mb-6">
          <label
            for="entityType"
            class="block text-sm font-medium text-gray-700 mb-2"
          >
            Tip Entitate *
          </label>
          <select
            id="entityType"
            [value]="selectedEntityType || ''"
            (change)="onEntityTypeChange($any($event.target).value)"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
          >
            <option
              *ngFor="let entityType of entityTypes"
              [value]="entityType.value || ''"
            >
              {{ entityType.label }}
            </option>
          </select>
          <p *ngIf="selectedEntityType" class="mt-2 text-sm text-gray-600">
            {{ getSelectedEntityDescription() }}
          </p>
        </div>

        <!-- Forms Container -->
        <div *ngIf="selectedEntityType" class="mt-6">
          <div class="bg-white border border-gray-200 rounded-lg p-6">
            <!-- Persoana Fizica Form -->
            <app-persoana-fizica-form
              *ngIf="selectedEntityType === EntityType.PersoanaFizica"
              (formSubmitted)="onFormSubmitted()"
              (formCancelled)="onFormCancelled()"
            ></app-persoana-fizica-form>

            <!-- Persoana Juridica Form -->
            <app-persoana-juridica-form
              *ngIf="selectedEntityType === EntityType.PersoanaJuridica"
              (formSubmitted)="onFormSubmitted()"
              (formCancelled)="onFormCancelled()"
            ></app-persoana-juridica-form>

            <!-- ONG Form -->
            <app-ong-form
              *ngIf="selectedEntityType === EntityType.ONG"
              (formSubmitted)="onFormSubmitted()"
              (formCancelled)="onFormCancelled()"
            ></app-ong-form>

            <!-- Institutie Publica Form -->
            <app-institutie-publica-form
              *ngIf="selectedEntityType === EntityType.InstitutiePublica"
              (formSubmitted)="onFormSubmitted()"
              (formCancelled)="onFormCancelled()"
            ></app-institutie-publica-form>

            <!-- Entitate Straina Form -->
            <app-entitate-straina-form
              *ngIf="selectedEntityType === EntityType.EntitateStraina"
              (formSubmitted)="onFormSubmitted()"
              (formCancelled)="onFormCancelled()"
            ></app-entitate-straina-form>
          </div>
        </div>

        <!-- Initial State Message -->
        <div
          *ngIf="!selectedEntityType"
          class="text-center py-12 text-gray-500"
        >
          <svg
            class="w-16 h-16 mx-auto mb-4 text-gray-400"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
            ></path>
          </svg>
          <p class="text-lg font-medium">Selectează un tip de entitate</p>
          <p class="text-sm mt-2">
            Alege din meniul de mai sus tipul de entitate pe care dorești să o
            înregistrezi
          </p>
        </div>
      </app-card-content>
    </app-card>
  </div>
</div>
